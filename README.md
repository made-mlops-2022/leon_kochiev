# Docker

Для того, чтобы запустить сервис предсказаний достаточно собрать докер при помощи следующей команды:

```bash
cd Dockerfile
./build.sh
```
Либо можете просто скачать с докерхаба при помощи команды:

```bash
docker pull nullkatared/made:mlops2
```

Далее, вам необходимо запустить контейнер и запустить сам код:


```bash
./start.sh
./into.sh
```

# Example

Для того, чтобы запустить пример, необходимо запустить контейнер и запустить сам ПОСТ реквеста:

```bash
./example.sh
```
Основная часть:

1) Оберните inference вашей модели в rest сервис на FastAPI, должен быть endpoint /predict (3/3)

2) Напишите endpoint /health, который должен возращать 200, если ваша модель готова к работе (такой чек особенно актуален, если делаете доп задание про скачивание из хранилища) (1/1)

3) Напишите unit тест для /predict (https://fastapi.tiangolo.com/tutorial/testing/, https://flask.palletsprojects.com/en/1.1.x/testing/) (3/3)

4) Напишите скрипт, который будет делать запросы к вашему сервису (2/2)

5) Напишите Dockerfile, соберите на его основе образ и запустите локально контейнер (docker build, docker run). Внутри контейнера должен запускаться сервис, написанный в предущем пункте. Закоммитьте его, напишите в README.md корректную команду сборки (4/4)

6) Опубликуйте образ в https://hub.docker.com/, используя docker push (вам потребуется зарегистрироваться) (2/2)

7) Опишите в README.md корректные команды docker pull/run, которые должны привести к тому, что локально поднимется на inference ваша модель. Убедитесь, что вы можете протыкать его скриптом из пункта 3 (1/1)

8) Проведите самооценку - распишите в реквесте какие пункты выполнили и на сколько баллов, укажите общую сумму баллов (1/1)

9) Ваш сервис скачивает модель из S3 или любого другого хранилища при старте, путь для скачивания передается через переменные окружения (2/2)

10) Сделайте валидацию входных данных https://pydantic-docs.helpmanual.io/usage/validators/ . Например, порядок колонок не совпадает с трейном, типы, допустимые максимальные и минимальные значения. Проявите фантазию, это доп. баллы, проверка не должна быть тривиальной. Вы можете сохранить вместе с моделью доп информацию о структуре входных данных, если это нужно (2/2). возращайте 400, в случае, если валидация не пройдена
